# robot_cmd

<p align='right'>neozng1@hnu.edu.cn</p>

## 运行流程

运行流程可以很直观的从`RobotCMDTask()`中看出。首先通过消息订阅机制，获取其他应用的反馈信息，然后使用`CalcOffsetAngle()`计算底盘和云台的offset angle（使得底盘始终获知当前的正方向），接着根据当前是通过键鼠or遥控器控制，调用对应的函数，将控制指令量化为具体的控制信息；得到控制信息之后，先不急着发布，而是检测重要的模块和应用是否掉线或出现异常，以及遥控器是否进入紧急停止模式，如果以上情况发生，那么将所有的控制信息都置零，即让电机和其他执行单元保持静止。最后还是通过pubsub机制，把具体的控制信息发布到对应话题，让其他应用获取。



## 外部接口









## 私有函数和变量







